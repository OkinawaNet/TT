## Домашнее задание 4

### 1. ADR-001

| **Title**       | [ADR-001] Переход формальной асинхронной event-driven на синхронную для доставки рейтинга                                                                                                                                                                                                 |
|-----------------|------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| **Status**      | Accepted (2025-07-11)  |
| **Context**     | [Problem-030] Логика начисления бонусов некорректна из-за ошибки с рейтингом задания. Проблема возникла из-за eventual consistency. Для решения проблемы нужно добиться strong consistency.                                                                          |
| **Decision**    |  Переход формальной асинхронной event-driven на синхронную коммуникацию. (async TaskRating -> HTTP-вызов )                                                                 |
| **Consequences**| **Положительные:**<br>- Обеспечение strong consistency<br>**Отрицательные:**<br>-каплинг<br>|
| **Alternatives**| • Альтернатива: Использовать события И для начисления бонусов И для отправки рейтинга, выстроить последовательность по условиям в DLQ. повысит консистентность<br> Не выбрано, потому-что это всё равно не strong consistency. Логика тоже неочевидная и риск получить очень сильное расхождение будет всегда. |


### 2. Проблемы бизнеса
